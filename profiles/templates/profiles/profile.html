{% extends 'base.html' %}
{% load static %}
{% load ratings %}

{% block content %}
    {% if object in request.user.get_blocked_users %}
        <div class="card text-center">
            <i class="fa fa-eye-slash" style="font-size:108px"></i>
            <span style="font-size: 30px;">You have blocked this user. So you cannot view each others activities.
                To unblock the user, Go to <a href="{% url 'profiles:settings' %}">settings</a></span>
        </div>
    {% else %}
    <div class="card">
        <p></p>
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6">
            <div class="text-center">
            <img class="rounded-circle profile-picture"
            {% if object.profile.image %}
                src="{{ object.profile.image.url }}" style="width: 150px ; height: 150px ; border:solid 1px" />
            {% elif object.gender == "M" %}
                src="{% static 'profiles/avatars/male.svg' %}" style="width: 150px ; height: 150px ; border:solid 1px" />
            {% else %}
                src="{% static 'profiles/avatars/female.svg' %}" style="width: 150px ; height: 150px ; border:solid 1px" />
            {% endif %}
            <span class="text-right">

            </span>
            <h3>{{ object.get_full_name }}</h3>
            <a class="viewsitelink " href="{% url 'profiles:profile' username=object.username  %}">
                <p>@{{ object.username }}</p>
            </a>
            <p>
            {% if object == request.user %}
                {% ratings object read_only=1 %}
            {% else %}
                {% ratings object %}
            {% endif %}
            </p>
        </div>
            </div>
        <div class="col-sm-3">
            {% if request.user != object %}
                {% include 'connections/snippets/connection-buttons.html' %}
            {% endif %}
        </div>
        </div>
    </div>
    <hr/>
    <div class="card about-profile">
        <h2 class="text-center">About</h2>
        <ul>
            <li>born on {{ object.date_of_birth }}</li>
            <li>gender {{ object.get_gender_display }}</li>
            <li>lives in {{ object.profile.lives_in }}</li>
            <li>hometown {{ object.profile.hometown }}</li>
            <li>relationship status {{ object.get_relationship_display }}</li>
            <li>interested in {{ object.profile.interests }}</li>
            <li>about me {{ object.profile.about }}</li>
        </ul>
    </div>

    <div class="row">
        <div class="col-sm-3">
            {% include 'connections/snippets/connections.html' %}
        </div>
        <div class="col-sm-6">
            {% include 'feeds/post.html' with posts=object.get_posts redirect_to='profile' %}
        </div>
        <div class="col-sm-3">
            <div class="card" style="margin-top: 1em">
                Sponsored by Offshot
            </div>
        </div>
    </div>
    {% endif %}
{% endblock %}